
<%- include("header"); -%>


<h1><%= stationName %> </h1>

<div class="stationDetails">
    <h2>Address: <%= stationAddress %></h2>

    <p> Total number of journeys starting from the station: <%= departures.length %></p>

    <p> Total number of journeys ending at the station: <%= returns.length %></p>

    <% if (departures.length > 0) { %>
        <br>
        <h3> <%= stationName %> as Departure Station</h3>
        <% let departureSum = 0 %>
        <% for (let i = 0; i < departures.length; i++) { %>
            <% departureSum = departureSum + departures[i].Distance %>
        <% } %>
        <p>The average distance of a journey starting from the station: <%= Math.round(departureSum / departures.length) %> m</p>
        

        <% let returnStations= [] %>
        <% for (let i = 0; i < departures.length; i++) { %>
            <% returnStations.push(departures[i].ReturnStationName +" ") %>
        <% } %>
        <p>Return stations for journeys starting from this station <%= returnStations %> </p>
    <% } %>


    <% if (returns.length > 0) { %>
        <br>
        <h3> <%= stationName %> as Return Station</h3>
        <% let returnSum = 0 %>
        <% for (let i = 0; i < returns.length; i++) { %>
            <% returnSum = returnSum + returns[i].Distance %>
        <% } %>
        <p>The average distance of a journey ending at the station: <%= Math.round(returnSum / returns.length) %> m</p>


        <% let departureStations= [] %>
        <% for (let i = 0; i < returns.length; i++) { %>
            <% departureStations.push(returns[i].DepartureStationName +" ") %>
        <% } %>
        <p>Departure stations for journeys ending at this station <%= departureStations %> </p>
        <% } %>



</div>

<%- include("footer") -%>
